<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.lzc.Dao.GoodsDao">

<resultMap type="cn.lzc.model.Goods" id="goodsResult">
<id column="id"  property="id"/>
<result column="riqi"  property="riqi"/>
<result column="mingcheng"  property="mingcheng"/>
<result column="guige"  property="guige"/>
<result column="chandi"  property="chandi"/>
<result column="lianxiren"  property="lianxiren"/>
<result column="dianhua"  property="dianhua"/>
<result column="shuliang"  property="shuliang"/>
<result column="danwei"  property="danwei"/>
<result column="jinjia"  property="jinjia"/>
<result column="heji"  property="heji"/>
<result column="shoujia"  property="shoujia"/>
<result column="beizhu"  property="beizhu"/>
</resultMap>
 
<select id="findAll"  resultMap="goodsResult">
SELECT * FROM YIQIYIBIAO 
</select>

<!-- <select id="findGoods" parameterType="" resultMap="goodsResult"></select>
 -->
 <select id="findGoodsByID" parameterType="Integer" resultMap="goodsResult">
 SELECT * FROM YIQIYIBIAO WHERE ID=#{id}
 </select>
 <select id="findGoodsByName" parameterType="String" resultMap="goodsResult">
 SELECT * FROM YIQIYIBIAO WHERE mingcheng like '%' #{_parameter} '%' order by riqi DESC
 </select>
  <select id="queryMessageListByPage" parameterType="java.util.Map" resultMap="goodsResult">
    select * from YIQIYIBIAO
    <where>
    	 <if test="goods.guige != null and !&quot;&quot;.equals(goods.guige.trim())">
	    	and guige=#{goods.guige}
	    </if>  
	     <if test="goods.mingcheng != null and !&quot;&quot;.equals(goods.mingcheng.trim())">
	    	and mingcheng like '%' #{goods.mingcheng} '%'
	    </if>
<!-- 	    <if test="maxriqi !=null and !&quot;&quot;.equals(maxriqi.trim()) and minriqi !=null ">
	    	and riqi > #{minriqi} and riqi < #{maxriqi}
	    </if>  -->
    </where> 
    order by riqi DESC
  </select>
  <insert id="addGoods" parameterType="cn.lzc.model.Goods">
  insert yiqiyibiao(riqi,id,mingcheng,guige,chandi,lianxiren,dianhua,shuliang,danwei,jinjia,shoujia,beizhu) values(#{riqi},#{id},#{mingcheng},#{guige},#{chandi},#{lianxiren},#{dianhua},#{shuliang},#{danwei},#{jinjia},#{shoujia},#{beizhu});
  </insert>
  <select id="queryGoodsGuigeByName" parameterType="java.lang.String" resultMap="goodsResult">
    select guige from YIQIYIBIAO 
    <where>
      <if test="_parameter != null and !''.equals(_parameter.trim())">
	     	and  mingcheng like '%' #{name} '%' 
	    </if>
	    </where>
  </select>
  <delete id="deleteGoodsByIDS" parameterType="List" >
  delete from YIQIYIBIAO where ID in(
  		<foreach collection="list" item="item" separator=",">
  			#{item}
  		</foreach>
  	)
  </delete>
<delete id="deleteGoodsByID" parameterType="Integer" >
Delete from yiqiyibiao where id=#{id}
</delete>
</mapper>
